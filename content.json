{"meta":{"title":"lx`Blog","subtitle":"水边的哲学是不舍昼夜，山地的哲学是不知日月","description":"Blog","author":"lx","url":"https://amoit.top","root":"/"},"pages":[{"title":"文章归档","date":"2023-01-08T08:26:25.972Z","updated":"2023-01-08T08:26:04.365Z","comments":true,"path":"archives.html","permalink":"https://amoit.top/archives.html","excerpt":"","text":""},{"title":"","date":"2023-01-09T14:10:41.546Z","updated":"2023-01-09T14:10:41.546Z","comments":true,"path":"manifest.json","permalink":"https://amoit.top/manifest.json","excerpt":"","text":"{\"name\":\"lx`Blog\",\"short_name\":\"lx\",\"theme_color\":\"#3b70fc\",\"background_color\":\"#3b70fc\",\"display\":\"standalone\",\"scope\":\"/\",\"start_url\":\"/\",\"icons\":[{\"src\":\"/img/siteicon/16.png\",\"sizes\":\"16x16\",\"type\":\"image/png\"},{\"src\":\"/img/siteicon/32.png\",\"sizes\":\"32x32\",\"type\":\"image/png\"},{\"src\":\"/img/siteicon/48.png\",\"sizes\":\"48x48\",\"type\":\"image/png\"},{\"src\":\"/img/siteicon/64.png\",\"sizes\":\"64x64\",\"type\":\"image/png\"},{\"src\":\"/img/siteicon/128.png\",\"sizes\":\"128x128\",\"type\":\"image/png\"},{\"src\":\"/img/siteicon/144.png\",\"sizes\":\"144x144\",\"type\":\"image/png\"},{\"src\":\"/img/siteicon/512.png\",\"sizes\":\"512x512\",\"type\":\"image/png\"}],\"splash_pages\":null}"},{"title":"便携小空调 - 为你的夏日带去清凉!","date":"2022-10-20T14:06:17.000Z","updated":"2023-01-12T14:17:04.629Z","comments":true,"path":"air-conditioner/index.html","permalink":"https://amoit.top/air-conditioner/index.html","excerpt":"","text":"终于为博客安装上了便携小空调 .copyright-box a { border-bottom: none !important; padding: 0 !important; }"},{"title":"","date":"2023-01-12T06:44:34.548Z","updated":"2023-01-12T06:44:34.548Z","comments":true,"path":"css/custom.css","permalink":"https://amoit.top/css/custom.css","excerpt":"","text":"/* @font-face { font-family: Candyhome; src: url(https://npm.elemecdn.com/anzhiyu-blog@1.1.6/fonts/Candyhome.ttf); font-display: swap; font-weight: lighter; } */ @font-face { font-family: ZhuZiAYuanJWD; src: url(https://npm.elemecdn.com/anzhiyu-blog@1.1.6/fonts/ZhuZiAWan.woff2); font-display: swap; font-weight: lighter; } div#menus { font-family: \"ZhuZiAYuanJWD\"; } h1#site-title { font-family: ZhuZiAYuanJWD; font-size: 3em !important; } a.article-title, a.blog-slider__title, a.categoryBar-list-link, h1.post-title { font-family: ZhuZiAYuanJWD; } .iconfont { font-family: \"iconfont\" !important; font-size: 3em; /* 可以定义图标大小 */ font-style: normal; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } /* 时间轴生肖icon */ svg.icon { /* 这里定义svg.icon，避免和Butterfly自带的note标签冲突 */ width: 1em; height: 1em; /* width和height定义图标的默认宽度和高度*/ vertical-align: -0.15em; fill: currentColor; overflow: hidden; } .icon-zhongbiao::before { color: #f7c768; } /* bilibli番剧插件 */ #article-container .bangumi-tab.bangumi-active { background: var(--anzhiyu-theme); color: var(--anzhiyu-ahoverbg); border-radius: 10px; } a.bangumi-tab:hover { text-decoration: none !important; } .bangumi-button:hover { background: var(--anzhiyu-theme) !important; border-radius: 10px !important; color: var(--anzhiyu-ahoverbg) !important; } a.bangumi-button.bangumi-nextpage:hover { text-decoration: none !important; } .bangumi-button { padding: 5px 10px !important; } a.bangumi-tab { padding: 5px 10px !important; } svg.icon.faa-tada { font-size: 1.1em; } .bangumi-info-item { border-right: 1px solid #f2b94b; } .bangumi-info-item span { color: #f2b94b; } .bangumi-info-item em { color: #f2b94b; } /* 解决artitalk的图标问题 */ #uploadSource > svg { width: 1.19em; height: 1.5em; } /*top-img黑色透明玻璃效果移除，不建议加，除非你执着于完全一图流或者背景图对比色明显 */ #page-header:not(.not-top-img):before { background-color: transparent !important; } /* 首页文章卡片 */ #recent-posts > .recent-post-item { background: rgba(255, 255, 255, 0.9); } /* 首页侧栏卡片 */ #aside-content .card-widget { background: rgba(255, 255, 255, 0.9); } /* 文章页面正文背景 */ div#post { background: rgba(255, 255, 255, 0.9); } /* 分页页面 */ div#page { background: rgba(255, 255, 255, 0.9); } /* 归档页面 */ div#archive { background: rgba(255, 255, 255, 0.9); } /* 标签页面 */ div#tag { background: rgba(255, 255, 255, 0.9); } /* 分类页面 */ div#category { background: rgba(255, 255, 255, 0.9); } /*夜间模式伪类遮罩层透明*/ [data-theme=\"dark\"] #recent-posts > .recent-post-item { background: #121212; } [data-theme=\"dark\"] .card-widget { background: #121212 !important; } [data-theme=\"dark\"] div#post { background: #121212 !important; } [data-theme=\"dark\"] div#tag { background: #121212 !important; } [data-theme=\"dark\"] div#archive { background: #121212 !important; } [data-theme=\"dark\"] div#page { background: #121212 !important; } [data-theme=\"dark\"] div#category { background: #121212 !important; } [data-theme=\"dark\"] div#category { background: transparent !important; } /*设置一图流，取消注释*/ /* 页脚透明 */ #footer { background: transparent !important; } /* 头图透明 */ #page-header { background: transparent !important; } #rightside > div > button { border-radius: 5px; } /* 滚动条 */ ::-webkit-scrollbar { width: 10px; height: 10px; } ::-webkit-scrollbar-thumb { background-color: #3b70fc; border-radius: 2em; } ::-webkit-scrollbar-corner { background-color: transparent; } ::-moz-selection { color: #fff; background-color: #3b70fc; } /* 音乐播放器 */ /* .aplayer .aplayer-lrc { display: none !important; } */ .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body { left: -66px !important; transition: all 0.3s; /* 默认情况下缩进左侧66px，只留一点箭头部分 */ } .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover { left: 0 !important; transition: all 0.3s; /* 鼠标悬停是左侧缩进归零，完全显示按钮 */ } .aplayer.aplayer-fixed { z-index: 999999 !important; } /* 评论框 */ .vwrap { box-shadow: 2px 2px 5px #bbb; background: rgba(255, 255, 255, 0.3); border-radius: 8px; padding: 30px; margin: 30px 0px 30px 0px; } /* 设置评论框 */ .vcard { box-shadow: 2px 2px 5px #bbb; background: rgba(255, 255, 255, 0.3); border-radius: 8px; padding: 30px; margin: 30px 0px 0px 0px; } /* 鼠标图标 */ body { cursor: url(\"/img/x1.cur\"), auto; } a, [type=\"button\"]:not(:disabled), [type=\"reset\"]:not(:disabled), [type=\"submit\"]:not(:disabled), button:not(:disabled) { cursor: url(\"/img/x2.cur\"), auto !important; } /* md网站下划线 */ #article-container a:hover { text-decoration: none !important; } #article-container #hpp_talk p img { display: inline; } /* 404页面 */ #error-wrap { position: absolute; top: 40%; right: 0; left: 0; margin: 0 auto; padding: 0 1rem; max-width: 1000px; transform: translate(0, -50%); } #error-wrap .error-content { display: flex; flex-direction: row; justify-content: center; align-items: center; margin: 0 1rem; height: 18rem; border-radius: 8px; background: var(--card-bg); box-shadow: var(--card-box-shadow); transition: all 0.3s; } #error-wrap .error-content .error-img { box-flex: 1; flex: 1; height: 100%; border-top-left-radius: 8px; border-bottom-left-radius: 8px; background-color: #3b70fc; background-position: center; background-size: cover; } #error-wrap .error-content .error-info { box-flex: 1; flex: 1; padding: 0.5rem; text-align: center; font-size: 14px; font-family: Titillium Web, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft JhengHei\", \"Microsoft YaHei\", sans-serif; } #error-wrap .error-content .error-info .error_title { margin-top: -4rem; font-size: 9em; } #error-wrap .error-content .error-info .error_subtitle { margin-top: -3.5rem; word-break: break-word; font-size: 1.6em; } #error-wrap .error-content .error-info a { display: inline-block; margin-top: 0.5rem; padding: 0.3rem 1.5rem; background: var(--btn-bg); color: var(--btn-color); } #body-wrap.error .aside-list { display: flex; flex-direction: row; flex-wrap: nowrap; bottom: 0px; position: absolute; padding: 1rem; width: 100%; overflow: scroll; } #body-wrap.error .aside-list .aside-list-group { display: flex; flex-direction: row; flex-wrap: nowrap; max-width: 1200px; margin: 0 auto; } #body-wrap.error .aside-list .aside-list-item { padding: 0.5rem; } #body-wrap.error .aside-list .aside-list-item img { width: 100%; object-fit: cover; border-radius: 12px; } #body-wrap.error .aside-list .aside-list-item .thumbnail { overflow: hidden; width: 230px; height: 143px; background: var(--lx-card-bg); display: flex; } #body-wrap.error .aside-list .aside-list-item .content .title { -webkit-line-clamp: 2; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; line-height: 1.5; justify-content: center; align-items: flex-end; align-content: center; padding-top: 0.5rem; color: white; } #body-wrap.error .aside-list .aside-list-item .content time { display: none; } /* 代码框主题 */ #article-container figure.highlight { border-radius: 10px; }"},{"title":"","date":"2023-01-12T09:12:10.262Z","updated":"2023-01-12T09:12:10.262Z","comments":true,"path":"css/head.css","permalink":"https://amoit.top/css/head.css","excerpt":"","text":"/* 波浪css */ .main-hero-waves-area { width: 100%; position: absolute; left: 0; bottom: -11px; z-index: 5; } .waves-area .waves-svg { width: 100%; height: 5rem; } /* Animation */ .parallax > use { animation: move-forever 25s cubic-bezier(0.55, 0.5, 0.45, 0.5) infinite; } .parallax > use:nth-child(1) { animation-delay: -2s; animation-duration: 7s; fill: #85c1f9bd; } .parallax > use:nth-child(2) { animation-delay: -3s; animation-duration: 10s; fill: #f7f9fe82; } .parallax > use:nth-child(3) { animation-delay: -4s; animation-duration: 13s; fill: #f7f9fe36; } .parallax > use:nth-child(4) { animation-delay: -5s; animation-duration: 20s; fill: #f7f9fe; } /* 黑色模式背景 */ [data-theme=\"dark\"] .parallax > use:nth-child(1) { animation-delay: -2s; animation-duration: 7s; fill: #18171dc8; } [data-theme=\"dark\"] .parallax > use:nth-child(2) { animation-delay: -3s; animation-duration: 10s; fill: #18171d80; } [data-theme=\"dark\"] .parallax > use:nth-child(3) { animation-delay: -4s; animation-duration: 13s; fill: #18171d3e; } [data-theme=\"dark\"] .parallax > use:nth-child(4) { animation-delay: -5s; animation-duration: 20s; fill: #18171d; } @keyframes move-forever { 0% { transform: translate3d(-90px, 0, 0); } 100% { transform: translate3d(85px, 0, 0); } } /*Shrinking for mobile*/ @media (max-width: 768px) { .waves-area .waves-svg { height: 40px; min-height: 40px; } }"},{"title":"","date":"2023-01-12T07:19:05.772Z","updated":"2023-01-12T07:19:05.772Z","comments":true,"path":"css/loading.css","permalink":"https://amoit.top/css/loading.css","excerpt":"","text":".loading-img { background: url( https://img01.anzhiy.cn/useruploads/60/2023/01/10/63bcd8207370e.jpg ) no-repeat center center; background-size: cover; }"},{"title":"","date":"2023-01-12T06:37:32.699Z","updated":"2023-01-12T06:37:32.699Z","comments":true,"path":"css/progress_bar.css","permalink":"https://amoit.top/css/progress_bar.css","excerpt":"","text":".pace { -webkit-pointer-events: none; pointer-events: none; -webkit-user-select: none; -moz-user-select: none; user-select: none; z-index: 2000; position: fixed; margin: auto; top: 10px; left: 0; right: 0; height: 8px; border-radius: 8px; width: 4rem; background: #b5c8fe; border: 1px #b5c8fe; overflow: hidden; } .pace-inactive .pace-progress { opacity: 0; transition: 0.3s ease-in; } .pace .pace-progress { -webkit-box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -o-box-sizing: border-box; box-sizing: border-box; -webkit-transform: translate3d(0, 0, 0); -moz-transform: translate3d(0, 0, 0); -ms-transform: translate3d(0, 0, 0); -o-transform: translate3d(0, 0, 0); transform: translate3d(0, 0, 0); max-width: 200px; position: absolute; z-index: 2000; display: block; top: 0; right: 100%; height: 100%; width: 100%; background: linear-gradient(-45deg, #a0c9e8, #2695de, #2269ce, #1e3ded); animation: gradient 1.5s ease infinite; background-size: 200%; } .pace.pace-inactive { opacity: 0; transition: 0.3s; top: -8px; } @keyframes gradient { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }"},{"title":"","date":"2023-01-13T05:21:13.445Z","updated":"2023-01-13T05:21:13.445Z","comments":true,"path":"css/rightmenu.css","permalink":"https://amoit.top/css/rightmenu.css","excerpt":"","text":"/* rightMenu */ #rightMenu{ display: none; position: fixed; width: 160px; height: fit-content; top: 10%; left: 10%; background-color: var(--card-bg); border: 1px solid var(--font-color); border-radius: 8px; z-index: 100; } #rightMenu .rightMenu-group{ padding: 7px 6px; } #rightMenu .rightMenu-group:not(:nth-last-child(1)){ border-bottom: 1px solid var(--font-color); } #rightMenu .rightMenu-group.rightMenu-small{ display: flex; justify-content: space-between; } #rightMenu .rightMenu-group .rightMenu-item{ height: 30px; line-height: 30px; border-radius: 8px; transition: 0.3s; color: var(--font-color); } #rightMenu .rightMenu-group.rightMenu-line .rightMenu-item{ display: flex; height: 40px; line-height: 40px; padding: 0 4px; } #rightMenu .rightMenu-group .rightMenu-item:hover{ background-color: var(--text-bg-hover); } #rightMenu .rightMenu-group .rightMenu-item i{ display: inline-block; text-align: center; line-height: 30px; width: 30px; height: 30px; padding: 0 5px; } #rightMenu .rightMenu-group .rightMenu-item span{ line-height: 30px; } #rightMenu .rightMenu-group.rightMenu-line .rightMenu-item *{ height: 40px; line-height: 40px; } .rightMenu-group.hide{ display: none; }"},{"title":"","date":"2023-01-13T05:25:50.488Z","updated":"2023-01-13T05:25:50.488Z","comments":true,"path":"js/rightmenu.js","permalink":"https://amoit.top/js/rightmenu.js","excerpt":"","text":"//22.12.8 update：add mask //22.12.9 update: add search in this page function setMask(){//设置遮罩层 if(document.getElementsByClassName(\"rmMask\")[0]!=undefined){ return document.getElementsByClassName(\"rmMask\")[0]; } mask = document.createElement('div'); mask.className = \"rmMask\"; mask.style.width = window.innerWidth + 'px'; mask.style.height = window.innerHeight + 'px'; mask.style.background = '#fff'; mask.style.opacity = '.0'; mask.style.position = 'fixed'; mask.style.top = '0'; mask.style.left = '0'; mask.style.zIndex = 998; document.body.appendChild(mask); document.getElementById(\"rightMenu\").style.zIndex=19198; return mask; } function insertAtCursor(myField, myValue) { //IE 浏览器 if (document.selection) { myField.focus(); sel = document.selection.createRange(); sel.text = myValue; sel.select(); } //FireFox、Chrome等 else if (myField.selectionStart || myField.selectionStart == '0') { var startPos = myField.selectionStart; var endPos = myField.selectionEnd; // 保存滚动条 var restoreTop = myField.scrollTop; myField.value = myField.value.substring(0, startPos) + myValue + myField.value.substring(endPos, myField.value.length); if (restoreTop > 0) { myField.scrollTop = restoreTop; } myField.focus(); myField.selectionStart = startPos + myValue.length; myField.selectionEnd = startPos + myValue.length; } else { myField.value += myValue; myField.focus(); } } let rmf = {}; rmf.showRightMenu = function (isTrue, x = 0, y = 0) { let $rightMenu = $('#rightMenu'); $rightMenu.css('top', x + 'px').css('left', y + 'px'); if (isTrue) { $rightMenu.show(); } else { $rightMenu.hide(); } } rmf.switchDarkMode = function () { const nowMode = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light' if (nowMode === 'light') { activateDarkMode() saveToLocal.set('theme', 'dark', 2) GLOBAL_CONFIG.Snackbar !== undefined && btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night) } else { activateLightMode() saveToLocal.set('theme', 'light', 2) GLOBAL_CONFIG.Snackbar !== undefined && btf.snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day) } // handle some cases typeof utterancesTheme === 'function' && utterancesTheme() typeof FB === 'object' && window.loadFBComment() window.DISQUS && document.getElementById('disqus_thread').children.length && setTimeout(() => window.disqusReset(), 200) }; rmf.yinyong=function(){ var e = document.getElementsByClassName(\"el-textarea__inner\")[0], t = document.createEvent(\"HTMLEvents\"); t.initEvent(\"input\", !0, !0), e.value = d.value = \"> \"+getSelection().toString()+\"\\n\\n\", e.dispatchEvent(t); console.log(getSelection().toString()); document.getElementsByClassName(\"el-textarea__inner\")[0].value=\"> \"+getSelection().toString()+\"\\n\\n\"; Snackbar.show({ text: '为保证最佳评论阅读体验，建议不要删除空行', pos: 'top-center', showAction: false, }) } rmf.copyWordsLink = function () { let url = window.location.href let txa = document.createElement(\"textarea\"); txa.value = url; document.body.appendChild(txa) txa.select(); document.execCommand(\"Copy\"); document.body.removeChild(txa); Snackbar.show({ text: '链接复制成功！快去分享吧！', pos: 'top-right', showAction: false }); } rmf.switchReadMode = function () { const $body = document.body $body.classList.add('read-mode') const newEle = document.createElement('button') newEle.type = 'button' newEle.className = 'fas fa-sign-out-alt exit-readmode' $body.appendChild(newEle) function clickFn() { $body.classList.remove('read-mode') newEle.remove() newEle.removeEventListener('click', clickFn) } newEle.addEventListener('click', clickFn) } //复制选中文字 rmf.copySelect = function () { document.execCommand('Copy', false, null); //这里可以写点东西提示一下 已复制 } //回到顶部 rmf.scrollToTop = function () { document.getElementsByClassName(\"menus_items\")[1].setAttribute(\"style\",\"\"); document.getElementById(\"name-container\").setAttribute(\"style\",\"display:none\"); btf.scrollToDest(0, 500); } rmf.translate = function () { document.getElementById(\"translateLink\").click(); } rmf.searchinThisPage=()=>{ document.body.removeChild(mask); document.getElementsByClassName(\"local-search-box--input\")[0].value=window.getSelection().toString() document.getElementsByClassName(\"search\")[0].click() var evt = document.createEvent(\"HTMLEvents\");evt.initEvent(\"input\", false, false);document.getElementsByClassName(\"local-search-box--input\")[0].dispatchEvent(evt); } document.body.addEventListener('touchmove', function(e){ }, { passive: false }); function popupMenu() { //window.oncontextmenu=function(){return false;} window.oncontextmenu = function (event) { if(event.ctrlKey)return true; $('.rightMenu-group.hide').hide(); if (document.getSelection().toString()) { $('#menu-text').show(); } if (document.getElementById('post')) { $('#menu-post').show(); } else { if (document.getElementById('page')) { $('#menu-post').show(); } } var el = window.document.body; el = event.target; var a=/^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\*\\+,;=.]+$/ if (a.test(window.getSelection().toString())&&el.tagName!=\"A\"){ $('#menu-too').show() } if (el.tagName == 'A') { $('#menu-to').show() rmf.open = function () { if(el.href.indexOf(\"http://\")==-1&&el.href.indexOf(\"https://\")==-1||el.href.indexOf(\"yisous.xyz\")!=-1){ pjax.loadUrl(el.href) } else{ location.href = el.href } } rmf.openWithNewTab = function () { window.open(el.href); // window.location.reload(); } rmf.copyLink = function () { let url = el.href let txa = document.createElement(\"textarea\"); txa.value = url; document.body.appendChild(txa) txa.select(); document.execCommand(\"Copy\"); document.body.removeChild(txa); } } if (el.tagName == 'IMG') { $('#menu-img').show() rmf.openWithNewTab = function () { window.open(el.src); // window.location.reload(); } rmf.click = function () { el.click() } rmf.copyLink = function () { let url = el.src let txa = document.createElement(\"textarea\"); txa.value = url; document.body.appendChild(txa) txa.select(); document.execCommand(\"Copy\"); document.body.removeChild(txa); } rmf.saveAs=function(){ var a = document.createElement('a'); var url = el.src; var filename = url.split(\"/\")[-1]; a.href = url; a.download = filename; a.click(); window.URL.revokeObjectURL(url); } } else if (el.tagName == \"TEXTAREA\" || el.tagName == \"INPUT\") { $('#menu-paste').show(); // rmf.paste=function(){ // input.addEventListener('paste', async event => { // event.preventDefault(); // const text = await navigator.clipboard.readText(); // el.value+=text; // }); // } rmf.paste = function () { navigator.permissions .query({ name: 'clipboard-read' }) .then(result => { if (result.state == 'granted' || result.state == 'prompt') { //读取剪贴板 navigator.clipboard.readText().then(text => { console.log(text) insertAtCursor(el, text) }) } else { Snackbar.show({ text: '请允许读取剪贴板！', pos: 'top-center', showAction: false, }) } }) } } let pageX = event.clientX + 10; let pageY = event.clientY; let rmWidth = $('#rightMenu').width(); let rmHeight = $('#rightMenu').height(); if (pageX + rmWidth > window.innerWidth) { pageX -= rmWidth + 10; } if (pageY + rmHeight > window.innerHeight) { pageY -= pageY + rmHeight - window.innerHeight; } mask=setMask(); window.onscroll=()=>{ rmf.showRightMenu(false); window.onscroll=()=>{} document.body.removeChild(mask); } $(\".rightMenu-item\").click(()=>{ document.body.removeChild(mask); }) $(window).resize(()=>{ rmf.showRightMenu(false); document.body.removeChild(mask); }) mask.onclick=()=>{ document.body.removeChild(mask); } rmf.showRightMenu(true, pageY, pageX); return false; }; window.addEventListener('click', function () { rmf.showRightMenu(false); }); } if (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i))) { popupMenu() } const box = document.documentElement function addLongtabListener(target, callback) { let timer = 0 // 初始化timer target.ontouchstart = () => { timer = 0 // 重置timer timer = setTimeout(() => { callback(); timer = 0 }, 380) // 超时器能成功执行，说明是长按 } target.ontouchmove = () => { clearTimeout(timer) // 如果来到这里，说明是滑动 timer = 0 } target.ontouchend = () => { // 到这里如果timer有值，说明此触摸时间不足380ms，是点击 if (timer) { clearTimeout(timer) } } } addLongtabListener(box, popupMenu)"},{"title":"","date":"2023-01-10T04:16:11.216Z","updated":"2023-01-10T04:16:11.216Z","comments":true,"path":"js/ali_font.js","permalink":"https://amoit.top/js/ali_font.js","excerpt":"","text":"!(function (c) { var l, h, a, t, i, v = '', o = (o = document.getElementsByTagName(\"script\"))[o.length - 1].getAttribute(\"data-injectcss\"), p = function (c, l) { l.parentNode.insertBefore(c, l); }; if (o && !c.__iconfont__svg__cssinject__) { c.__iconfont__svg__cssinject__ = !0; try { document.write( \".svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}\" ); } catch (c) { console && console.log(c); } } function d() { i || ((i = !0), a()); } function m() { try { t.documentElement.doScroll(\"left\"); } catch (c) { return void setTimeout(m, 50); } d(); } (l = function () { var c, l = document.createElement(\"div\"); (l.innerHTML = v), (v = null), (l = l.getElementsByTagName(\"svg\")[0]) && (l.setAttribute(\"aria-hidden\", \"true\"), (l.style.position = \"absolute\"), (l.style.width = 0), (l.style.height = 0), (l.style.overflow = \"hidden\"), (l = l), (c = document.body).firstChild ? p(l, c.firstChild) : c.appendChild(l)); }), document.addEventListener ? ~[\"complete\", \"loaded\", \"interactive\"].indexOf(document.readyState) ? setTimeout(l, 0) : ((h = function () { document.removeEventListener(\"DOMContentLoaded\", h, !1), l(); }), document.addEventListener(\"DOMContentLoaded\", h, !1)) : document.attachEvent && ((a = l), (t = c.document), (i = !1), m(), (t.onreadystatechange = function () { \"complete\" == t.readyState && ((t.onreadystatechange = null), d()); })); })(window);"},{"title":"link","date":"2023-01-11T11:10:01.000Z","updated":"2023-01-11T11:37:51.875Z","comments":true,"path":"link/index.html","permalink":"https://amoit.top/link/index.html","excerpt":"","text":""},{"title":"","date":"2023-01-10T15:09:34.677Z","updated":"2023-01-10T15:09:34.677Z","comments":true,"path":"css/coin/coin.css","permalink":"https://amoit.top/css/coin/coin.css","excerpt":"","text":".tip-button { border: 0; border-radius: 0.25rem; cursor: pointer; font-size: 20px; font-weight: 600; height: 2.6rem; margin-bottom: -4rem; outline: 0; position: relative; top: 0; transform-origin: 0% 100%; transition: transform 50ms ease-in-out; width: auto; -webkit-tap-highlight-color: transparent; } .tip-button:active { transform: rotate(4deg); } .tip-button.clicked { animation: 150ms ease-in-out 1 shake; pointer-events: none; } .tip-button.clicked .tip-button__text { opacity: 0; transition: opacity 100ms linear 200ms; } .tip-button.clicked::before { height: 0.5rem; width: 60%; background: button-hover-color; } .tip-button.clicked .coin { transition: margin-bottom 1s linear 200ms; margin-bottom: 0; } .tip-button.shrink-landing::before { transition: width 200ms ease-in; width: 0; } .tip-button.coin-landed::after { opacity: 1; transform: scale(1); transform-origin: 50% 100%; } .tip-button.coin-landed .coin-wrapper { background: radial-gradient(circle at 35% 97%, rgba(3, 16, 50, 0.4) 0.04rem, transparent 0.04rem), radial-gradient( circle at 45% 92%, rgba(3, 16, 50, 0.4) 0.04rem, transparent 0.02rem ), radial-gradient(circle at 55% 98%, rgba(3, 16, 50, 0.4) 0.04rem, transparent 0.04rem), radial-gradient(circle at 65% 96%, rgba(3, 16, 50, 0.4) 0.06rem, transparent 0.06rem); background-position: center bottom; background-size: 100%; bottom: -1rem; opacity: 0; transform: scale(2) translateY(-10px); } .tip-button__text { color: #fff; margin-right: 1.8rem; opacity: 1; position: relative; transition: opacity 100ms linear 500ms; z-index: 3; } .tip-button::before { border-radius: 0.25rem; bottom: 0; content: \"\"; display: block; height: 100%; left: 50%; position: absolute; transform: translateX(-50%); transition: height 250ms ease-in-out 400ms, width 250ms ease-in-out 300ms; width: 100%; z-index: 2; } .tip-button::after { bottom: -1rem; color: white; content: \"ヾ(≧O≦)〃嗷~\"; /*点击后显示的内容*/ height: 110%; left: 0; opacity: 0; position: absolute; pointer-events: none; text-align: center; transform: scale(0); transform-origin: 50% 20%; transition: transform 200ms cubic-bezier(0, 0, 0.35, 1.43); width: 100%; z-index: 1; } .coin-wrapper { background: none; bottom: 0; height: 18rem; left: 0; opacity: 1; overflow: hidden; pointer-events: none; position: absolute; transform: none; transform-origin: 50% 100%; transition: opacity 200ms linear 100ms, transform 300ms ease-out; width: 100%; } .coin { --front-y-multiplier: 0; --back-y-multiplier: 0; --coin-y-multiplier: 0; --coin-x-multiplier: 0; --coin-scale-multiplier: 0; --coin-rotation-multiplier: 0; --shine-opacity-multiplier: 0.4; --shine-bg-multiplier: 50%; bottom: calc(var(--coin-y-multiplier) * 1rem - 3.5rem); height: 3.5rem; margin-bottom: 3.05rem; position: absolute; right: calc(var(--coin-x-multiplier) * 34% + 16%); transform: translateX(50%) scale(calc(0.4 + var(--coin-scale-multiplier))) rotate(calc(var( --coin-rotation-multiplier ) * -1deg)); transition: opacity 100ms linear 200ms; width: 3.5rem; z-index: 3; } .coin__front, .coin__middle, .coin__back, .coin::before, .coin__front::after, .coin__back::after { border-radius: 50%; box-sizing: border-box; height: 100%; left: 0; position: absolute; width: 100%; z-index: 3; } .coin__front { background: radial-gradient(circle at 50% 50%, transparent 50%, rgba(115, 124, 153, 0.4) 54%, #c2cadf 54%), linear-gradient(210deg, #8590b3 32%, transparent 32%), linear-gradient(150deg, #8590b3 32%, transparent 32%), linear-gradient(to right, #8590b3 22%, transparent 22%, transparent 78%, #8590b3 78%), linear-gradient( to bottom, #fcfaf9 44%, transparent 44%, transparent 65%, #fcfaf9 65%, #fcfaf9 71%, #8590b3 71% ), linear-gradient(to right, transparent 28%, #fcfaf9 28%, #fcfaf9 34%, #8590b3 34%, #8590b3 40%, #fcfaf9 40%, #fcfaf9 47%, #8590b3 47%, #8590b3 53%, #fcfaf9 53%, #fcfaf9 60%, #8590b3 60%, #8590b3 66%, #fcfaf9 66%, #fcfaf9 72%, transparent 72%); background-color: #8590b3; background-size: 100% 100%; transform: translateY(calc(var(--front-y-multiplier) * 0.3181818182rem / 2)) scaleY(var(--front-scale-multiplier)); } .coin__front::after { background: rgba(0, 0, 0, 0.2); content: \"\"; opacity: var(--front-y-multiplier); } .coin__middle { background: #737c99; transform: translateY(calc(var(--middle-y-multiplier) * 0.3181818182rem / 2)) scaleY(var(--middle-scale-multiplier)); } .coin__back { background: radial-gradient(circle at 50% 50%, transparent 50%, rgba(115, 124, 153, 0.4) 54%, #c2cadf 54%), radial-gradient(circle at 50% 40%, #fcfaf9 23%, transparent 23%), radial-gradient(circle at 50% 100%, #fcfaf9 35%, transparent 35%); background-color: #8590b3; background-size: 100% 100%; transform: translateY(calc(var(--back-y-multiplier) * 0.3181818182rem / 2)) scaleY(var(--back-scale-multiplier)); } .coin__back::after { background: rgba(0, 0, 0, 0.2); content: \"\"; opacity: var(--back-y-multiplier); } .coin::before { background: radial-gradient(circle at 25% 65%, transparent 50%, rgba(255, 255, 255, 0.9) 90%), linear-gradient(55deg, transparent calc(var(--shine-bg-multiplier) + 0%), #e9f4ff calc(var(--shine-bg-multiplier) + 0%), transparent calc(var( --shine-bg-multiplier ) + 50%)); content: \"\"; opacity: var(--shine-opacity-multiplier); transform: translateY(calc(var(--middle-y-multiplier) * 0.3181818182rem / -2)) scaleY(var(--middle-scale-multiplier)) rotate(calc(var(--coin-rotation-multiplier) * 1deg)); z-index: 10; } .coin::after { background: #737c99; content: \"\"; height: 0.3181818182rem; left: 0; position: absolute; top: 50%; transform: translateY(-50%); width: 100%; z-index: 2; } @keyframes shake { 0% { transform: rotate(4deg); } 66% { transform: rotate(-4deg); } 100% { transform: rotate(); } }"},{"title":"","date":"2023-01-13T05:24:42.089Z","updated":"2023-01-13T05:24:42.089Z","comments":true,"path":"css/iconfont/iconfont.css","permalink":"https://amoit.top/css/iconfont/iconfont.css","excerpt":"","text":"@font-face { font-family: \"iconfont\"; /* Project id 3498204 */ src: url('iconfont.woff2?t=1659311976990') format('woff2'), url('iconfont.woff?t=1659311976990') format('woff'), url('iconfont.ttf?t=1659311976990') format('truetype'); } .iconfont { font-family: \"iconfont\" !important; font-size: 16px; font-style: normal; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } .icon-danmu:before { content: \"\\e612\"; } .icon-biaoqian:before { content: \"\\e63d\"; } .icon-fenlei:before { content: \"\\e601\"; } .icon-fanti:before { content: \"\\e6d8\"; } .icon-baidu:before { content: \"\\e60a\"; } .icon-csdn:before { content: \"\\e600\"; } .icon-RSS:before { content: \"\\e78a\"; } .icon-bilibili:before { content: \"\\e609\"; } .icon-gitee:before { content: \"\\e60c\"; } .icon-zhihu:before { content: \"\\e60d\"; }"},{"title":"","date":"2023-01-10T14:51:17.406Z","updated":"2023-01-10T14:51:17.406Z","comments":true,"path":"js/coin/coin.js","permalink":"https://amoit.top/js/coin/coin.js","excerpt":"","text":"/* * @Author: qvp-nvn 386059889@qq.com * @Date: 2023-01-10 22:50:49 * @LastEditors: qvp-nvn 386059889@qq.com * @LastEditTime: 2023-01-10 22:51:17 * @FilePath: /blog/themes/butterfly/source/js/coin/coin.js * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE */ var tipButtons = document.querySelectorAll(\".tip-button\"); function coinAudio() { var coinAudio = document.getElementById(\"coinAudio\"); if (coinAudio) { coinAudio.play(); //有音频时播放 } } // Loop through all buttons (allows for multiple buttons on page) tipButtons.forEach(button => { var coin = button.querySelector(\".coin\"); // The larger the number, the slower the animation coin.maxMoveLoopCount = 90; button.addEventListener(\"click\", () => { if (/Android|webOS|BlackBerry/i.test(navigator.userAgent)) return true; //媒体选择 if (button.clicked) return; button.classList.add(\"clicked\"); // Wait to start flipping th coin because of the button tilt animation setTimeout(() => { // Randomize the flipping speeds just for fun coin.sideRotationCount = Math.floor(Math.random() * 5) * 90; coin.maxFlipAngle = (Math.floor(Math.random() * 4) + 3) * Math.PI; button.clicked = true; flipCoin(); coinAudio(); }, 50); }); var flipCoin = () => { coin.moveLoopCount = 0; flipCoinLoop(); }; var resetCoin = () => { coin.style.setProperty(\"--coin-x-multiplier\", 0); coin.style.setProperty(\"--coin-scale-multiplier\", 0); coin.style.setProperty(\"--coin-rotation-multiplier\", 0); coin.style.setProperty(\"--shine-opacity-multiplier\", 0.4); coin.style.setProperty(\"--shine-bg-multiplier\", \"50%\"); coin.style.setProperty(\"opacity\", 1); // Delay to give the reset animation some time before you can click again setTimeout(() => { button.clicked = false; }, 300); }; var flipCoinLoop = () => { coin.moveLoopCount++; var percentageCompleted = coin.moveLoopCount / coin.maxMoveLoopCount; coin.angle = -coin.maxFlipAngle * Math.pow(percentageCompleted - 1, 2) + coin.maxFlipAngle; // Calculate the scale and position of the coin moving through the air coin.style.setProperty(\"--coin-y-multiplier\", -11 * Math.pow(percentageCompleted * 2 - 1, 4) + 11); coin.style.setProperty(\"--coin-x-multiplier\", percentageCompleted); coin.style.setProperty(\"--coin-scale-multiplier\", percentageCompleted * 0.6); coin.style.setProperty(\"--coin-rotation-multiplier\", percentageCompleted * coin.sideRotationCount); // Calculate the scale and position values for the different coin faces // The math uses sin/cos wave functions to similate the circular motion of 3D spin coin.style.setProperty(\"--front-scale-multiplier\", Math.max(Math.cos(coin.angle), 0)); coin.style.setProperty(\"--front-y-multiplier\", Math.sin(coin.angle)); coin.style.setProperty(\"--middle-scale-multiplier\", Math.abs(Math.cos(coin.angle), 0)); coin.style.setProperty(\"--middle-y-multiplier\", Math.cos((coin.angle + Math.PI / 2) % Math.PI)); coin.style.setProperty(\"--back-scale-multiplier\", Math.max(Math.cos(coin.angle - Math.PI), 0)); coin.style.setProperty(\"--back-y-multiplier\", Math.sin(coin.angle - Math.PI)); coin.style.setProperty(\"--shine-opacity-multiplier\", 4 * Math.sin((coin.angle + Math.PI / 2) % Math.PI) - 3.2); coin.style.setProperty(\"--shine-bg-multiplier\", -40 * (Math.cos((coin.angle + Math.PI / 2) % Math.PI) - 0.5) + \"%\"); // Repeat animation loop if (coin.moveLoopCount < coin.maxMoveLoopCount) { if (coin.moveLoopCount === coin.maxMoveLoopCount - 6) button.classList.add(\"shrink-landing\"); window.requestAnimationFrame(flipCoinLoop); } else { button.classList.add(\"coin-landed\"); coin.style.setProperty(\"opacity\", 0); setTimeout(() => { button.classList.remove(\"clicked\", \"shrink-landing\", \"coin-landed\"); setTimeout(() => { resetCoin(); }, 300); }, 1500); } }; });"},{"title":"","date":"2023-01-10T07:06:09.074Z","updated":"2023-01-10T07:06:09.074Z","comments":true,"path":"js/runtime/runtime.js","permalink":"https://amoit.top/js/runtime/runtime.js","excerpt":"","text":"/* * @Author: qvp-nvn 386059889@qq.com * @Date: 2023-01-10 14:41:38 * @LastEditors: qvp-nvn 386059889@qq.com * @LastEditTime: 2023-01-10 15:06:09 * @FilePath: /blog/source/js/runtime/runtime.js * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE */ var now = new Date; function createtime() { var t = new Date(\"01/01/2023 00:00:00\"); now.setTime(now.getTime() + 250); var e = (now - t) / 1e3 / 60 / 60 / 24, a = Math.floor(e), n = (now - t) / 1e3 / 60 / 60 - 24 * a, r = Math.floor(n); 1 == String(r).length && (r = \"0\" + r); var s = (now - t) / 1e3 / 60 - 1440 * a - 60 * r, i = Math.floor(s); 1 == String(i).length && (i = \"0\" + i); var o = (now - t) / 1e3 - 86400 * a - 3600 * r - 60 * i, l = Math.round(o); 1 == String(l).length && (l = \"0\" + l); let g = \"\"; g = r < 18 && r >= 9 ? ` 本站运行了 ${a} 天 ${r} 小时 ${i} 分 ${l} 秒 ` : ` 本站居然运行了 ${a} 天 ${r} 小时 ${i} 分 ${l} 秒 `, document.getElementById(\"workboard\") && (document.getElementById(\"workboard\").innerHTML = g) } setInterval((() => { createtime() }), 250);"},{"title":"","date":"2023-01-10T07:06:18.643Z","updated":"2023-01-10T07:06:18.643Z","comments":true,"path":"js/runtime/runtime.min.js","permalink":"https://amoit.top/js/runtime/runtime.min.js","excerpt":"","text":"var now=new Date;function createtime(){var t=new Date(\"01/01/2023 00:00:00\");now.setTime(now.getTime()+250);var e=(now-t)/1e3/60/60/24,a=Math.floor(e),n=(now-t)/1e3/60/60-24*a,r=Math.floor(n);1==String(r).length&&(r=\"0\"+r);var s=(now-t)/1e3/60-1440*a-60*r,i=Math.floor(s);1==String(i).length&&(i=\"0\"+i);var o=(now-t)/1e3-86400*a-3600*r-60*i,l=Math.round(o);1==String(l).length&&(l=\"0\"+l);let g=\"\";g=r=9?` 本站运行了 ${a} 天 ${r} 小时 ${i} 分 ${l} 秒 `:` 本站居然运行了 ${a} 天 ${r} 小时 ${i} 分 ${l} 秒 `,document.getElementById(\"workboard\")&&(document.getElementById(\"workboard\").innerHTML=g)}setInterval(()=>{createtime()},250);"},{"title":"","date":"2023-01-11T09:52:13.639Z","updated":"2023-01-11T09:52:13.639Z","comments":true,"path":"gitcalendar/css/gitcalendar.css","permalink":"https://amoit.top/gitcalendar/css/gitcalendar.css","excerpt":"","text":".gitcalendar { font-family: SourceHanSans-Medium; border: 1px solid #DDDDDD; border-radius: 3px; min-height: 120px; text-align: center; margin: 0 auto; border-width:0px; width:100%; display: flex; display: -webkit-flex; justify-content: center; align-items:center; flex-wrap:wrap; } .gitcalendar-graph text.wday, .gitcalendar-graph text.month { font-size: 10px; fill: #aaa; } .contrib-legend { text-align: right; padding: 0 14px 10px 0; display: inline-block; float: right; } .contrib-legend .legend { display: inline-block; list-style: none; margin: 0 5px; position: relative; bottom: -1px; padding: 0; } .contrib-legend .legend li { display: inline-block; width: 10px; height: 10px; } .text-small { font-size: 12px; color: #767676; } .gitcalendar-graph { padding: 15px 0 0; text-align: center; } .contrib-column { text-align: center; border-left: 1px solid #ddd; border-top: 1px solid #ddd; font-size: 11px; } .contrib-column-first { border-left: 0; } .table-column { padding:10px; display: table-cell; width:33%; vertical-align: top; } .contrib-number { font-weight: 300; line-height: 1.3em; font-size: 24px; display: block; } .gitcalendar img.spinner { width: 70px; margin-top: 50px; min-height: 70px; } .monospace { text-align: center; color: #000; font-family: monospace; } .monospace a { color: #1D75AB; text-decoration: none; } .contrib-footer { font-size: 11px; padding: 0 10px 12px; text-align: left; width: 100%; box-sizing: border-box; height: 26px; } .left.text-muted { float: left; margin-left: 9px; color: #767676; } .left.text-muted a { color: #4078c0; text-decoration: none; } .left.text-muted a:hover, .monospace a:hover { text-decoration: underline; } h2.f4.text-normal.mb-3 { display: none; } .float-left.text-gray { float: left; } #user-activity-overview{ display:none; } .day-tooltip { white-space: nowrap; position: absolute; z-index: 99999; padding: 10px; font-size: 12px; color: #959da5; text-align: center; background: rgba(0,0,0,.85); border-radius: 3px; display: none; pointer-events: none; } .day-tooltip strong { color: #dfe2e5; } .day-tooltip.is-visible { display: block; } .day-tooltip:after { position: absolute; bottom: -10px; left: 50%; width: 5px; height: 5px; box-sizing: border-box; margin: 0 0 0 -5px; content: \" \"; border: 5px solid transparent; border-top-color: rgba(0,0,0,.85) } .position-relative {width:100%;padding-left:20px;padding-right:20px;} @media screen and (max-width: 650px){.contrib-column{display:none}} .angle-wrapper { z-index:9999; display:inline; display:none; width: 200px; height: 40px; position: relative; padding: 5px 0; background: rgba(0, 0, 0, 0.8); border-radius: 8px; text-align: center; color: white; } .angle-box { position:fixed; padding:10px } .angle-wrapper span{ padding-bottom:1em; } .angle-wrapper:before { content: ''; width: 0; height: 0; border: 10px solid transparent; border-top-color: rgba(0, 0, 0, 0.8); position: absolute; left: 47.5%; top: 100%; }"},{"title":"","date":"2023-01-11T10:48:37.842Z","updated":"2023-01-11T10:48:37.842Z","comments":true,"path":"gitcalendar/js/gitcalendar.js","permalink":"https://amoit.top/gitcalendar/js/gitcalendar.js","excerpt":"","text":"const gitcalendar = new Vue({ el: '#gitcalendar', data: { simplemode: true, //打开时使用canvas绘制gitgitcalendar，关闭时使用svg绘制gitgitcalendar //canvas：dom数少，但图像会发生模糊，自适应一般 svg：dom数多，图像清晰，自适应更佳 user: 'qvp-nvn', //这里填写你的github用户名 fixed: 'fixed', px: 'px', x: '', y: '', span1: '', span2: '', month: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'], monthchange: [], oneyearbeforeday: '', thisday: '', amonthago: '', aweekago: '', weekdatacore: 0, datacore: 0, total: 0, datadate: '', data: [], positionplusdata: [], firstweek: [], lastweek: [], beforeweek: [], thisweekdatacore: 0, mounthbeforeday: 0, mounthfirstindex: 0, crispedges: 'crispedges', thisdayindex: 0, amonthagoindex: 0, amonthagoweek: [], firstdate: [], first2date: [], montharrbefore: [], monthindex: 0, purple: ['#ebedf0', '#fdcdec', '#fc9bd9', '#fa6ac5', '#f838b2', '#f5089f', '#c4067e', '#92055e', '#540336', '#48022f', '#30021f',], green: ['#ebedf0', '#f0fff4', '#dcffe4', '#bef5cb', '#85e89d', '#34d058', '#28a745', '#22863a', '#176f2c', '#165c26', '#144620'], blue: ['#ebedf0', '#f1f8ff', '#dbedff', '#c8e1ff', '#79b8ff', '#2188ff', '#0366d6', '#005cc5', '#044289', '#032f62', '#05264c',], color: ['#ebedf0', '#fdcdec', '#fc9bd9', '#fa6ac5', '#f838b2', '#f5089f', '#c4067e', '#92055e', '#540336', '#48022f', '#30021f',] }, methods: { selectStyle(data, event) { document.querySelector('.angle-wrapper').style.display = 'block' this.span1 = data.date; this.span2 = data.count; this.x = event.clientX - 100; this.y = event.clientY - 60 }, outStyle() { document.querySelector('.angle-wrapper').style.display = 'none' }, thiscolor(x) { if (x === 0) { let i = parseInt(x / 2); return this.color[0] } else if (x < 2) { return this.color[1] } else if (x < 20) { let i = parseInt(x / 2); return this.color[i] } else { return this.color[9] } }, } }); let githubapiurl = \"https://python-github-calendar-api.zfour.vercel.app/api/?\" + gitcalendar.user; //let githubapiurl = \"https://githubapi.ryanchristian.dev/user/\" + gitcalendar.user; //旧的api策略 //canvas绘图 function responsiveChart() {if(gitcalendar.simplemode){ let c = document.getElementById(\"gitcanvas\"); let cmessage = document.getElementById(\"gitmessage\"); let ctx = c.getContext(\"2d\"); c.width = document.getElementById(\"gitcalendarcanvasbox\").offsetWidth; let linemaxwitdh = 0.96 * c.width / gitcalendar.data.length; c.height = 9 * linemaxwitdh; let lineminwitdh = 0.8 * linemaxwitdh; let setposition = { x: 0.02 * c.width, y: 0.025 * c.width }; for (let week in gitcalendar.data) { weekdata = gitcalendar.data[week]; for (let day in weekdata) { let dataitem = {date: \"\", count: \"\", x: 0, y: 0}; gitcalendar.positionplusdata.push(dataitem); ctx.fillStyle = gitcalendar.thiscolor(weekdata[day].count); setposition.y = Math.round(setposition.y * 100) / 100; dataitem.date = weekdata[day].date; dataitem.count = weekdata[day].count; dataitem.x = setposition.x; dataitem.y = setposition.y; ctx.fillRect(setposition.x, setposition.y, lineminwitdh, lineminwitdh); setposition.y = setposition.y + linemaxwitdh } ; setposition.y = 0.025 * c.width; setposition.x = setposition.x + linemaxwitdh } ; ctx.font = \"600 Arial\"; ctx.fillStyle = '#aaa'; ctx.fillText(\"日\", 0, 1.9 * linemaxwitdh); ctx.fillText(\"二\", 0, 3.9 * linemaxwitdh); ctx.fillText(\"四\", 0, 5.9 * linemaxwitdh); ctx.fillText(\"六\", 0, 7.9 * linemaxwitdh); let monthindexlist = c.width / 24; for (let index in gitcalendar.monthchange) { ctx.fillText(gitcalendar.monthchange[index], monthindexlist, 0.7 * linemaxwitdh); monthindexlist = monthindexlist + c.width / 12 } ; cmessage.onmousemove = function (event) { document.querySelector('.angle-wrapper').style.display = 'none' }; c.onmousemove = function (event) { document.querySelector('.angle-wrapper').style.display = 'none' getMousePos(c, event); }; function getMousePos(canvas, event) { var rect = canvas.getBoundingClientRect(); var x = event.clientX - rect.left * (canvas.width / rect.width); var y = event.clientY - rect.top * (canvas.height / rect.height); //console.log(\"x:\"+x+\",y:\"+y); for (let item of gitcalendar.positionplusdata) { let lenthx = x - item.x; let lenthy = y - item.y; //console.log(lenthx,lenthy); if (0 < lenthx && lenthx < lineminwitdh) { if (0 < lenthy && lenthy < lineminwitdh) { //console.log(item.date,item.count) document.querySelector('.angle-wrapper').style.display = 'block' gitcalendar.span1 = item.date; gitcalendar.span2 = item.count; gitcalendar.x = event.clientX - 100; gitcalendar.y = event.clientY - 60 } } //if(0< x - item.x"}],"posts":[{"title":"test","slug":"test","date":"2023-01-10T11:37:01.000Z","updated":"2023-01-11T08:22:48.746Z","comments":true,"path":"posts/2297fd4f.html","link":"","permalink":"https://amoit.top/posts/2297fd4f.html","excerpt":"","text":"test 666","categories":[],"tags":[]}],"categories":[],"tags":[]}